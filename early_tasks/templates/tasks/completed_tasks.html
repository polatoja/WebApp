<!-- Completed Tasks Template (completed_tasks.html) -->
{% extends "base.html" %}
{% load static %}

{% block title %}Completed Tasks{% endblock %}

{% block content %}
<div class="site_content">
    <div class="filter-container" data-url="/completed_tasks" data-render-function="renderCompletedTasks">
        <h2>Completed Tasks</h2>
        <div class="filters">
            {% include "tasks/filter_by_level_modal.html" %}
            {% include "tasks/filter_by_rating_modal.html" %}
        </div>
    </div>

    <!-- Completed Task Table -->
    <table>
        <div id="user-role" data-role="{{ user_role }}"></div>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Level</th>
                {% if request.user.userprofile.role != 'user' %}
                    <th>For</th>
                {% endif %}
                {% if request.user.userprofile.role != 'manager' %}
                    <th>By</th>
                {% endif %}
                <th>Rate</th>
                {% if request.user.userprofile.role != 'user' %}
                    <th>Actions</th>
                {% endif %}
            </tr>
        </thead>
        <tbody id="completed-tasks-table-body">
            <!-- Dynamic task rows for completed tasks will be inserted here -->
        </tbody>  
    </table>

</div>
{% include "tasks/manage_tasks_modals.html" %}
{% endblock %}

{% block styles %}
<!-- Move the jQuery UI stylesheet here -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
{% endblock %}

<!-- External scripts and custom scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>